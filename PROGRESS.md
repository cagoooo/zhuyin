## 🎮 v3.5.1 已完成功能 (Phase 5: 體驗優化)
- [x] **🔊 鍵盤語音回饋 (TTS)**：在虛擬注音鍵盤上新增了 `speakWord` 語音 API 綁定，孩子點擊任意注音符號時，系統會即時發音，強化點擊回饋與學習記憶。
- [x] **🧹 移除冗餘 UI**：移除了開始畫面無效的「全螢幕」按鈕，讓版面更整潔，依賴設備原生的 PWA 全螢幕體驗。

---

## 🎮 v3.5.0 已完成功能 (Phase 5: 沉浸式遊戲化與獎勵系統)
- [x] **💰 動態金幣經濟系統**：新增「金幣」貨幣，將過關的分數按比例 (100:1) 轉換為金幣，直接鼓勵使用者重複遊玩或挑戰無限模式以獲取貨幣。
- [x] **🛍️ 虛擬商城 (Virtual Shop)**：採用 Claymorphism 美化介面的獨立商城面板，提供多種裝飾道具（如：魔法帽、皇冠、牛仔帽等）供玩家檢視與購買。系統具備防呆機制，金幣不足時吉祥物會給予提示。
- [x] **🎩 吉祥物即時換裝 (Dynamic Dressing)**：玩家可在商城「裝備」已購買的道具。道具透過 DOM 與 CSS 定位，無縫貼合現有的 SVG 吉祥物，存檔機制 (`gameState.equipped`) 確保重新載入後仍維持最新外觀。
- [x] **🏆 成就系統 2.0 (Achievements 2.0)**：追蹤更進階的玩家行為數據 (`bopomofoStats`)，包含「連續登入天數」(Login Streak) 與「歷史答對總題數」(Total Correct)，並實作「連登 3 天」、「答對 500 題」等長期目標徽章，延長遊戲壽命。

---

## 🎨 v3.3.1 已完成功能 (RWD 響應式優化與核心除錯)
- [x] **🖥️ 電腦端 RWD 完美適配**：
    - 強制鎖定桌面端最大寬度為 `800px`，保持完美的圖卡/平板閱讀比例，解決大螢幕佈局異常展開的問題。
    - 將關卡選擇網格 (`grid`) 重構為彈性折行排列 (`flex-wrap`)，徹底根除大螢幕下關卡按鈕互相推擠重疊的現象。
- [x] **📜 長畫面滾動修復 (Scrollable Screen)**：針對高度過長的容器（如家長後台與榮耀徽章），導入自訂的 `.scrollable-screen` 樣式，並配合 `flex-shrink: 0` 防止內部元素被錯誤壓縮，確保即使在筆電螢幕上也能正常往下滑動瀏覽所有功能。
- [x] **🐛 ReferenceError 全面清除**：
    - 修正了 `achievementsContainer` 的 DOM ID 對應錯誤，解決載入存檔時的 Null 型別錯誤。
    - 將資料初始化邏輯 (`loadAllData`) 移入正確的生命週期 (`DOMContentLoaded`)，消除無法找到更新函數的 Scope 問題。

---

## 🔐 v3.3.0 已完成功能 (家長鎖與數位健康)
- [x] **🔐 智能家長鎖 (Child-Proof)**：導入隨機算術驗證機制，保護「家長模式」與「進度重置」，防止孩子誤觸。
- [x] **🕒 數位健康計時器**：實作全域遊玩時長追蹤，累積滿 20 分鐘自動觸發強制休息提示，落實視力防護。
- [x] **📊 單頁學習報告匯出**：新增 Canvas 報告生成器，一鍵將雷達圖與弱點分析合併為圖片下載。
- [x] **✨ UI 體驗微調**：優化了 Modal 在不同解析度下的垂直居中表現，並修正了錄音按鈕的狀態切換。

---

## 📌 v3.1.0 已完成功能 (IndexedDB 與 6 位數短碼)
- [x] **📦 IndexedDB 引擎升級**：全面取代 `localStorage`，支援更穩定的離線存儲與未來大型多媒體擴充。
- [x] **🌩️ 雲端市集 2.0 (6 位數代碼)**：實作短碼分享機制，簡化親友間匯入題庫的流程，不再需要處理複雜的 Base64 字串。
- [x] **🔄 Service Worker v3.1.0**：更新快取版本編號，確保所有異步存儲邏輯能在離線環境同步生效。
- [x] **🛠️ 異步化邏輯重構**：將存檔、統計、讀取邏輯全面改為 `async/await`，大幅降低大數據量下的 UI 延遲。

---

## 📌 v3.0.1 已完成功能 (本地快測與穩定性)
- [x] **🚀 本地開發相容性 (Safe Access)**：實作 `import.meta.env` 安全攔截，確保在 `npx serve` 等靜態環境中不會崩潰。
- [x] **🛡️ 離線模式攔截**：自動偵測 Firebase API Key 狀態，當缺少 Key 時優雅降級為「離線模式」，不影響語音與雷達圖測試。
- [x] **🧹 全域金鑰盤查**：使用 Grep 進行全專案金鑰掃描，確認無任何硬編碼金鑰餘留，保障程式碼安全。

---

## 📌 v3.0.0 已完成功能 (AI 語音辨識與學習分析)
- [x] **🤖 AI 語音辨識互動**：深度串接 Web Speech API，孩子可開口唸國字答題，系統自動填充注音。
- [x] **📉 發音紀錄追蹤系統**：實作 `localStorage` 階層式紀錄，分別追蹤「聲母、介母、韻母、聲調」的練習次數與錯誤次數。
- [x] **📈 學習成長雷達圖**：在家長模式內建 Canvas 繪圖引擎，動態產出四維度學習分析報告。
- [x] **🎨 UI 佈局深度重構**：
    - 將「全螢幕」按鈕遷移至左上角固定，解決與「家長模式」按鈕的位移疊加衝突。
    - 在對戰互動區新增麥克風 UI (Mic Trigger)，包含錄音中呼吸燈動畫。
- [x] **🔄 Service Worker v3.0.0**：更新快取版本編號，確保新版語音模組能被正確推送到離線端。

---

## 📌 v2.7.3 已完成功能 (UI 優化)

---

## 📌 v2.7.2 已完成功能 (導航增強)
- [x] **關卡選擇頁返回修正**：在關卡選擇頁面新增「🏠 返回」按鈕，解決無法回到主畫面的困擾。

---

## 📌 v2.7.1 已完成功能 (導航修復)
- [x] **榮譽榜導航修正**：修正點擊「回首頁」按鈕後卡在空關卡選擇頁面的問題，將其導航目標修正為正確的初始首頁。

## 📌 v2.7.0 已完成功能 (安全性與環境變數隔離)
- [x] **API Key 隔離管理**：將 Firebase 設定遷移至 `.env` 檔案，徹底消除原始碼中的金鑰硬編碼。
- [x] **CI/CD 自動注入**：更新 GitHub Actions 流程，部署時自動從 GitHub Secrets 注入機密資訊。
- [x] **安全性盤查**：完成全域代碼掃描，確保無敏感資訊洩漏。

---

## 📌 v2.6.1 已完成功能 (核心修復與穩定)
- [x] **導航邏輯修復**：修正 `screens` 物件漏掉 `parentDashboard` 鍵值導致的導航崩潰問題。

## 📌 v2.6.0 已完成功能 (家長後台與 QR 分享)
- [x] **家長後台管理 (Parent Mode)**：提供專屬 UI 進行自訂題庫的 CRUD 管理，保護隱私且完全本地化。
- [x] **LocalStorage 持久化**：自訂題目儲存於瀏覽器，無需伺服器也能持久儲存。
- [x] **QR 碼一鍵分享**：整合 `qrcode.js`，將題庫 Base64 編碼，實現「無網分享」。
- [x] **URL 智能匯入**：掃碼後自動解析字串並合併題庫。
- [x] **自訂關卡整合**：地圖選單動態新增「🌟 自訂專區」入口。

## 📌 v2.5.0 已完成功能 (PWA 離線安裝化)
- [x] **Service Worker 核心**：實作全靜態資源快取，支援 100% 離線遊玩。
- [x] **Web App Manifest**：支援手機「加入主畫面」成為獨立 App。
- [x] **iOS 相容性優化**：加入 Apple 特有的 Meta Tags 與 Icon 支援。

---

## 🟡 中期目標（1-2 個月）

### 1. PWA 離線化 (v2.5.0 已完工 ✅)
- [x] **Service Worker 實作**：全離線執行支援。
- [x] **Web App Manifest**：支援桌面安裝與無 UI 體驗。
- [x] **離線快取策略**：混合式緩存。
- [x] **iOS 滿版支援**：加入 `black-translucent` 狀態列與 `apple-touch-icon`。

---

## 📌 v2.4.1 已完成功能 (音質與標籤優化)

### 🔊 語音與音效體驗優化 (v2.4.1)
- [x] **語音音量強化**：將 `speechSynthesis` 音量鎖定為 1.0，並調高音調 (Pitch 1.1) 以獲得更強的穿透力與響亮感。
- [x] **BGM 自動避讓 (Audio Ducking)**：實作語音朗讀時自動降低背景音樂音量 (0.2)，朗讀結束後恢復 (0.6) 的專業音頻效果。
- [x] **背景音樂音量平衡**：設定 BGM 預設音量為 0.6，確保發音清晰不被音樂掩蓋。
- [x] **Favicon 404 修復**：加入 Emoji Data-URI 格式的骰子圖示 (🎲)，消除瀏覽器 console 報錯並增加識別度。

---

## 📌 v2.4.0 已完成功能 (遊戲性大躍進)

### 🎮 玩法核心升級 (v2.4.0)
- [x] **火焰無盡挑戰模式**：隨機跨關卡抽題，直到生命值歸零，支援動態難度 (限時機制隨題數增加)。
- [x] **本地計分排行榜**：自動儲存前五名最高分，包含日期與分數紀錄。
- [x] **連擊特效 2.0**：
    - 2+ 連擊：彈跳動畫。
    - 5+ 連擊：進階火焰燃燒特效 (🔥)。
- [x] **實體 MP3 音效系統**：優先尋找 `./assets/sounds/` 內的 MP3 音檔播放，並保留電子合成音作為保底。

---

## 📌 v2.3.1 已完成功能 (視覺與品牌升級)

### 🎨 標題 UI 視覺重設計 (v2.3.1)
- [x] **官方標題更名**：將首頁標題從「ㄅㄆㄇ 森林派對」統一更新為「**ㄅㄆㄇ 注音大挑戰**」。
- [x] **立體堆疊陰影 (3D Depth)**：實作 12 層 CSS Text-Shadow 堆疊，打造極致的黏土風格字母質感。
- [x] **動態浮動動畫 (Floating)**：為標題加入 `floating` 關鍵幀動畫，實現具有空氣感的垂直起伏與輕微旋轉。
- [x] **珍珠漸層質感**：標題文字採用珍珠白垂直漸層，視覺焦點更集中且具高級感。

---

## 📌 v2.3.0 已完成功能 (UX 細節優化)

### 🚀 UX / 介面互動優化 (v2.3.0)
- [x] **流暢進度條動畫**：為進度條加入 `transition: width 0.5s ease-in-out` 漸變，並套用黃綠漸層色，提升視覺流暢度。
- [x] **答錯注音小卡提示**：答錯或時間到時，上方會彈出一個帶有 3D 黏土感的「正確答案卡」，並在 1.8 秒後自動淡出，輔助記憶。
- [x] **觸覺回饋 (Haptic Feedback)**：
    - 答對時：輕微震動 50ms。
    - 答錯時：強烈震動脈衝 `[200, 100, 200]`。
    *註：支援 Android Chrome 等具備 Vibration API 的裝置。*
- [x] **圖片 Fallback 機制**：透過 `onerror` 自動偵測 404 圖片錯誤，並切換至該關卡的 icon emoji 作為保底，確保介面不破圖。

---

## 📌 v2.2.0 已完成功能

### 🎊 採花特效升級 (v2.2.0)
- [x] **60顆多形狀彩帶**：從方塊升級為「圓形、星星、心形、方塊」4種隨機形狀，每顆均有獨立的亮彩顏色。
- [x] **物理飄落旋轉**：每顆彩帶隨機產生不同大小、落下速度與旋轉圈數，模擬真實物理感。
- [x] **全螢幕視窗覆蓋**：改為 `position: fixed`，直接從螢幕頂端落下至底部。

### 🖼️ 缺圖 404 修正 (v2.2.0)
- [x] **全面補齊圖片**：修正水果、家人、學校關卡中缺少的本地圖片，改用 Icons8 CDN 連結。

### 🎨 按鈕可讀性強化 (v2.2.0)
- [x] **色彩與对比優化**：提示鍵（黃底深棕字）、清除鍵（白底深石板色字），確保文字在任何光線下都清晰易讀。
