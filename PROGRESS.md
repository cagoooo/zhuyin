# 📍 ㄅㄆㄇ 注音大挑戰 - 開發進度表 (PROGRESS.md)

---

## 📌 v3.0.0 已完成功能 (AI 語音辨識與學習分析)
- [x] **🤖 AI 語音辨識過關**：串接 Web Speech API，支援國字語音輸入與自動注音填充。
- [x] **📈 學習成長雷達圖**：實作 Canvas 繪圖與數據紀錄（聲、介、韻、調），提供家長分析報告。
- [x] **📐 UI 配置優化**：全螢幕按鈕定位修復，解決與家長模式按鈕的衝突。
- [x] **🛡️ 安全性補強**：Firebase 環境變數隔離與本地測試「安全訪問」邏輯。
- [x] **🔄 版本升級**：Service Worker 更新至 v3.0.0。

---

## 📌 v2.7.3 已完成功能 (UI 優化)

---

## 📌 v2.7.2 已完成功能 (導航增強)
- [x] **關卡選擇頁返回修正**：在關卡選擇頁面新增「🏠 返回」按鈕，解決無法回到主畫面的困擾。

---

## 📌 v2.7.1 已完成功能 (導航修復)
- [x] **榮譽榜導航修正**：修正點擊「回首頁」按鈕後卡在空關卡選擇頁面的問題，將其導航目標修正為正確的初始首頁。

## 📌 v2.7.0 已完成功能 (安全性與環境變數隔離)
- [x] **API Key 隔離管理**：將 Firebase 設定遷移至 `.env` 檔案，徹底消除原始碼中的金鑰硬編碼。
- [x] **CI/CD 自動注入**：更新 GitHub Actions 流程，部署時自動從 GitHub Secrets 注入機密資訊。
- [x] **安全性盤查**：完成全域代碼掃描，確保無敏感資訊洩漏。

---

## 📌 v2.6.1 已完成功能 (核心修復與穩定)
- [x] **導航邏輯修復**：修正 `screens` 物件漏掉 `parentDashboard` 鍵值導致的導航崩潰問題。

## 📌 v2.6.0 已完成功能 (家長後台與 QR 分享)
- [x] **家長後台管理 (Parent Mode)**：提供專屬 UI 進行自訂題庫的 CRUD 管理，保護隱私且完全本地化。
- [x] **LocalStorage 持久化**：自訂題目儲存於瀏覽器，無需伺服器也能持久儲存。
- [x] **QR 碼一鍵分享**：整合 `qrcode.js`，將題庫 Base64 編碼，實現「無網分享」。
- [x] **URL 智能匯入**：掃碼後自動解析字串並合併題庫。
- [x] **自訂關卡整合**：地圖選單動態新增「🌟 自訂專區」入口。

## 📌 v2.5.0 已完成功能 (PWA 離線安裝化)
- [x] **Service Worker 核心**：實作全靜態資源快取，支援 100% 離線遊玩。
- [x] **Web App Manifest**：支援手機「加入主畫面」成為獨立 App。
- [x] **iOS 相容性優化**：加入 Apple 特有的 Meta Tags 與 Icon 支援。

---

## 🟡 中期目標（1-2 個月）

### 1. PWA 離線化 (v2.5.0 已完工 ✅)
- [x] **Service Worker 實作**：全離線執行支援。
- [x] **Web App Manifest**：支援桌面安裝與無 UI 體驗。
- [x] **離線快取策略**：混合式緩存。
- [x] **iOS 滿版支援**：加入 `black-translucent` 狀態列與 `apple-touch-icon`。

---

## 📌 v2.4.1 已完成功能 (音質與標籤優化)

### 🔊 語音與音效體驗優化 (v2.4.1)
- [x] **語音音量強化**：將 `speechSynthesis` 音量鎖定為 1.0，並調高音調 (Pitch 1.1) 以獲得更強的穿透力與響亮感。
- [x] **BGM 自動避讓 (Audio Ducking)**：實作語音朗讀時自動降低背景音樂音量 (0.2)，朗讀結束後恢復 (0.6) 的專業音頻效果。
- [x] **背景音樂音量平衡**：設定 BGM 預設音量為 0.6，確保發音清晰不被音樂掩蓋。
- [x] **Favicon 404 修復**：加入 Emoji Data-URI 格式的骰子圖示 (🎲)，消除瀏覽器 console 報錯並增加識別度。

---

## 📌 v2.4.0 已完成功能 (遊戲性大躍進)

### 🎮 玩法核心升級 (v2.4.0)
- [x] **火焰無盡挑戰模式**：隨機跨關卡抽題，直到生命值歸零，支援動態難度 (限時機制隨題數增加)。
- [x] **本地計分排行榜**：自動儲存前五名最高分，包含日期與分數紀錄。
- [x] **連擊特效 2.0**：
    - 2+ 連擊：彈跳動畫。
    - 5+ 連擊：進階火焰燃燒特效 (🔥)。
- [x] **實體 MP3 音效系統**：優先尋找 `./assets/sounds/` 內的 MP3 音檔播放，並保留電子合成音作為保底。

---

## 📌 v2.3.1 已完成功能 (視覺與品牌升級)

### 🎨 標題 UI 視覺重設計 (v2.3.1)
- [x] **官方標題更名**：將首頁標題從「ㄅㄆㄇ 森林派對」統一更新為「**ㄅㄆㄇ 注音大挑戰**」。
- [x] **立體堆疊陰影 (3D Depth)**：實作 12 層 CSS Text-Shadow 堆疊，打造極致的黏土風格字母質感。
- [x] **動態浮動動畫 (Floating)**：為標題加入 `floating` 關鍵幀動畫，實現具有空氣感的垂直起伏與輕微旋轉。
- [x] **珍珠漸層質感**：標題文字採用珍珠白垂直漸層，視覺焦點更集中且具高級感。

---

## 📌 v2.3.0 已完成功能 (UX 細節優化)

### 🚀 UX / 介面互動優化 (v2.3.0)
- [x] **流暢進度條動畫**：為進度條加入 `transition: width 0.5s ease-in-out` 漸變，並套用黃綠漸層色，提升視覺流暢度。
- [x] **答錯注音小卡提示**：答錯或時間到時，上方會彈出一個帶有 3D 黏土感的「正確答案卡」，並在 1.8 秒後自動淡出，輔助記憶。
- [x] **觸覺回饋 (Haptic Feedback)**：
    - 答對時：輕微震動 50ms。
    - 答錯時：強烈震動脈衝 `[200, 100, 200]`。
    *註：支援 Android Chrome 等具備 Vibration API 的裝置。*
- [x] **圖片 Fallback 機制**：透過 `onerror` 自動偵測 404 圖片錯誤，並切換至該關卡的 icon emoji 作為保底，確保介面不破圖。

---

## 📌 v2.2.0 已完成功能

### 🎊 採花特效升級 (v2.2.0)
- [x] **60顆多形狀彩帶**：從方塊升級為「圓形、星星、心形、方塊」4種隨機形狀，每顆均有獨立的亮彩顏色。
- [x] **物理飄落旋轉**：每顆彩帶隨機產生不同大小、落下速度與旋轉圈數，模擬真實物理感。
- [x] **全螢幕視窗覆蓋**：改為 `position: fixed`，直接從螢幕頂端落下至底部。

### 🖼️ 缺圖 404 修正 (v2.2.0)
- [x] **全面補齊圖片**：修正水果、家人、學校關卡中缺少的本地圖片，改用 Icons8 CDN 連結。

### 🎨 按鈕可讀性強化 (v2.2.0)
- [x] **色彩與对比優化**：提示鍵（黃底深棕字）、清除鍵（白底深石板色字），確保文字在任何光線下都清晰易讀。
